# Microsoft Fabric: Real Time Analytics - Day 2

### Overall Estimated Duration: 4 Hours

## Overview

In this lab, you will build an **end-to-end real-time analytics solution using Microsoft Fabric**, starting with environment setup, Fabric capacity creation, and deployment of a stock data generator streaming events through **Azure Event Hubs** into **Fabric Eventstream**. You will analyze streaming stock and clickstream data using **KQL databases**, apply real-time transformations, and visualize insights with **Real-Time dashboards** and **Power BI reports**.

You will also create a **Lakehouse** to store curated data, run **data engineering and data science notebooks** to build dimensional models and machine learning based stock predictions, and publish semantic models for reporting. Finally, you will leverage **OneLake, Fabric shortcuts, and Data Activator alerts** to enable unified data access, real-time monitoring, and automated actions demonstrating a complete Fabric Real-Time Intelligence workflow.

## Objective

By the end of this lab, participants will be able to:

- **Deploy a real-time data source** by provisioning a stock generator application using Azure Container Instances and ARM templates.

- **Ingest real-time streaming data** from Azure Event Hubs into Microsoft Fabric using Eventstream with live data preview enabled.

- **Create and manage a KQL database** in Microsoft Fabric and route streaming data from Eventstream for real-time analytics.

- **Analyze streaming stock data using KQL** to identify trends, calculate price differences, and generate actionable insights.

- **Build real-time dashboards and Power BI reports** with auto-refresh to visualize live stock data and support decision-making.

- **Create and configure a Lakehouse (StocksLakehouse)** to persist streaming and curated data with a validated SQL endpoint.

- **Process and curate data using notebooks** to clean, aggregate, and prepare datasets for analytics and data science use cases.

- **Design a dimensional model and semantic model** within the Lakehouse to support reporting and advanced analytics.

- **Build, evaluate, and run machine learning models** using Fabric notebooks to predict and forecast stock prices.

- **Store and analyze prediction results** in the Lakehouse and visualize market trends using Power BI.

- **Build a real-time web traffic analytics solution** using clickstream data, Fabric Eventhouse, OneLake shortcuts, and KQL transformations.

- **Create real-time dashboards and Data Activator alerts** to monitor streaming data and trigger automated actions.

## Prerequisites

Participants should have:

- Basic understanding of Power BI, Fabric, data modeling concepts, and report building.

## Explanation of Components

The architecture for this lab involves the following key components:

- **Microsoft Fabric Trial, Azure Pass, Capacity, and Workspace:** Enable access, compute resources, and a centralized environment for building all Fabric analytics assets.

- **Azure Container Instance & Event Hubs:** Generate and ingest real-time stock and clickstream data into the analytics pipeline.

- **Microsoft Fabric Eventstream & Eventhouse:** Ingest, transform, and route streaming data using KQL-powered real-time processing.

- **KQL Database & KQL Queryset:** Store streaming data and analyze it using high-performance KQL queries.

- **Lakehouse & OneLake (with Fabric Shortcuts):** Persist raw, curated, and prediction data with unified access across Fabric without data movement.

- **Fabric Notebooks (Data Engineering & Data Science):** Clean, aggregate data and build, train, and run machine learning models.

- **Dimensional & Semantic Models:** Structure data into business-friendly models for reporting and analytics.

- **Power BI Reports & Real-Time Dashboards:** Visualize real-time and historical insights with interactive dashboards and reports.

- **Data Activator (Reflex):** Monitor streaming data and trigger alerts or automated actions based on defined conditions.

- **Workspace Cleanup:** Ensures resources are deleted after learning activities. Helps maintain a cost-efficient environment.

## Architecture

The architecture is built on **Microsoft Fabric** to deliver an end-to-end real-time and advanced analytics solution. Real-time data is generated by a stock generator application running on **Azure Container Instances** and ingested through **Azure Event Hubs**. This streaming data is consumed by **Fabric Eventstream and Eventhouse**, where real-time transformations are applied using **KQL**, and the processed events are routed to a **KQL Database** for high-performance, low-latency analytics.

In parallel, data is persisted in a **Lakehouse on OneLake** for long-term storage, curation, and machine learning workloads. **Fabric notebooks** are used for data engineering, dimensional modeling, and building predictive models, with results exposed through **semantic models**. Insights are delivered via **Power BI reports and Real-Time dashboards**, while **Data Activator (Reflex)** continuously monitors streaming data to trigger alerts and automated actions, completing a unified, scalable real-time intelligence architecture.

## Getting Started with the Lab
 
Once the environment is provisioned, a virtual machine (LabVM) and lab guide will be loaded in your browser. Use this virtual machine throughout the workshop to perform the lab. You can see the number on the bottom of the Lab guide to switch to different exercises in the lab guide.
 
## Accessing Your Lab Environment
 
Once you're ready to dive in, your virtual machine and **Guide** will be right at your fingertips within your web browser.
 
   ![](../Use%20Case%2001/media/Intro-00.png)

### Virtual Machine & Lab Guide
 
Your virtual machine is your workhorse throughout the workshop. The lab guide is your roadmap to success.
 
## Exploring Your Lab Resources
 
To get a better understanding of your lab resources and credentials, navigate to the **Environment** tab.
 
   ![](../Use%20Case%2001/media/Intro-01.png)
 
## Utilizing the Split Window Feature
 
For convenience, you can open the lab guide in a separate window by selecting the **Split Window** button from the top right corner.
 
![](../Use%20Case%2001/media/Intro-02.png)
 
## Managing Your Virtual Machine
 
Feel free to start, stop, or restart your virtual machine as needed from the **Resources** tab. Your experience is in your hands!
 
![](../Use%20Case%2001/media/Intro-03.png)

## Lab Guide Zoom In/Zoom Out

To adjust the zoom level for the environment page, click the **Aâ†• : 100%** icon located next to the timer in the lab environment.

   ![](../Use%20Case%2001/media/Intro-04.png)
 
## Let's Get Started with Microsoft Portal
 
1. On your virtual machine, open the **Microsoft Edge**.
 
    ![](../Use%20Case%2001/media/Intro-05.png)
 
2.  In a new tab, navigate to the **Microsoft Fabric** portal by copying and pasting the following URL into the address bar:

      ```
      https://app.fabric.microsoft.com
      ```

3. On the **Enter your email, we'll check if you need to create a new account** tab, you will see the login screen, in that enter the following email/username, and click on **Submit**.

    - **Email/Username:** <inject key="AzureAdUserEmail"></inject>
 
        ![](../Use%20Case%2001/media/GS5.png)
 
4. Next, provide your password:
 
   - **Password:** <inject key="AzureAdUserPassword"></inject>
 
        ![](../Use%20Case%2001/media/Intro-07.png)

5. First-time users are often prompted to Stay Signed In. If you see any such pop-up, click on **No**.
   
    ![](../Use%20Case%2001/media/Intro-08.png)

6. On Microsoft Fabric (Free) license assignment dialog appears, click **OK** to proceed.

    ![01](./media/Intro-09.png)

7. You will be navigated to the **Microsoft Fabric page**.

    ![01](./media/Intro-10.png)

## Support Contact

The CloudLabs support team is available 24/7, 365 days a year, via email and live chat to ensure seamless assistance at any time. We offer dedicated support channels tailored specifically for both learners and instructors, ensuring that all your needs are promptly and efficiently addressed.

Learner Support Contacts:

- Email Support: cloudlabs-support@spektrasystems.com
- Live Chat Support: https://cloudlabs.ai/labs-support

Now, click on **Next** from the lower right corner to move on to the next page.
 
![](../Use%20Case%2001/media/Intro-11.png)

## Happy Learning!!
